<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Motorcu Kedi - Orman Yolu</title>
    <style>
        body { margin: 0; overflow: hidden; background: #1a5e20; font-family: sans-serif; }
        canvas { display: block; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100; color: white; }
        .menu-card { background: #222; padding: 30px; border-radius: 20px; border: 2px solid #ff9800; text-align: center; width: 250px; }
        .menu-btn { width: 100%; padding: 12px; margin: 10px 0; font-size: 18px; background: #ff9800; color: white; border: none; border-radius: 10px; font-weight: bold; }
        
        /* Boost BarÄ± */
        #boostContainer { position: fixed; top: 10px; left: 50%; transform: translateX(-50%); width: 200px; height: 20px; background: #333; border: 2px solid #fff; display: none; border-radius: 10px; overflow: hidden; }
        #boostBar { width: 100%; height: 100%; background: linear-gradient(90deg, #fceabb, #f8b500); }
    </style>
</head>
<body>

    <div id="boostContainer"><div id="boostBar"></div></div>
    <canvas id="gameCanvas"></canvas>

    <div id="gameMenu" class="overlay">
        <div class="menu-card">
            <h1 id="menuTitle">ORMAN SÃœRÃœÅžÃœ</h1>
            <p id="scoreText"></p>
            <button class="menu-btn" onclick="resetGame()">BAÅžLA</button>
        </div>
    </div>

    <div style="position:fixed; bottom:20px; width:100%; display:flex; justify-content:space-around; pointer-events:none;">
        <div id="leftBtn" style="width:80px; height:80px; background:rgba(255,255,255,0.3); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:40px; pointer-events:auto; color:white; border:2px solid white;">â—€</div>
        <div id="rightBtn" style="width:80px; height:80px; background:rgba(255,255,255,0.3); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:40px; pointer-events:auto; color:white; border:2px solid white;">â–¶</div>
    </div>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        
        // --- BURAYA BOOST GÃ–RSEL LÄ°NKÄ°NÄ° EKLE ---
        const boostImg = new Image();
        boostImg.src = "https://resmim.net/cdn/2026/01/31/wVgHRQ.jpg"; // Ã–rnek Nitro ikonu

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const roadWidth = canvas.width * 0.6;
        const roadX = (canvas.width - roadWidth) / 2;

        let catX, gameSpeed, score, isPaused = true, boostActive = false, boostTimer = 0;
        let trees = [], lines = [], obstacles = [], boostItem = {x:0, y:-1000, active:false};
        let moveLeft = false, moveRight = false;

        function resetGame() {
            catX = canvas.width / 2;
            gameSpeed = 6;
            score = 0;
            boostActive = false;
            boostTimer = 0;
            document.getElementById("boostContainer").style.display = "none";
            
            // BaÅŸlangÄ±Ã§ nesneleri
            lines = [0, 200, 400, 600];
            obstacles = [{x: roadX + 50, y: -400}, {x: roadX + 150, y: -800}];
            
            // Bol bol aÄŸaÃ§ oluÅŸtur (Sol ve SaÄŸ iÃ§in)
            trees = [];
            for(let i=0; i<10; i++) {
                trees.push({ x: Math.random()*(roadX-50), y: i*150, side: 'L' });
                trees.push({ x: roadX + roadWidth + Math.random()*50, y: i*150, side: 'R' });
            }

            boostItem = { x: roadX + Math.random()*(roadWidth-40), y: -1500, active: true };
            isPaused = false;
            document.getElementById("gameMenu").style.display = "none";
            draw();
        }

        function draw() {
            if (isPaused) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Boost KontrolÃ¼
            let currentSpeed = boostActive ? gameSpeed * 2.5 : gameSpeed;
            if(boostActive) {
                boostTimer -= 1;
                document.getElementById("boostBar").style.width = (boostTimer / 360) * 100 + "%";
                if(boostTimer <= 0) {
                    boostActive = false;
                    document.getElementById("boostContainer").style.display = "none";
                }
            }

            // Ã‡im ve Yol
            ctx.fillStyle = "#1a5e20"; ctx.fillRect(0,0, canvas.width, canvas.height);
            ctx.fillStyle = "#333"; ctx.fillRect(roadX, 0, roadWidth, canvas.height);

            // Hareketli Åžeritler
            ctx.fillStyle = "#fff";
            lines.forEach((ly, i) => {
                ctx.fillRect(canvas.width/2 - 5, ly, 10, 60);
                lines[i] += currentSpeed;
                if(lines[i] > canvas.height) lines[i] = -60;
            });

            // BOL BOL AÄžAÃ‡LAR
            ctx.font = "50px Arial";
            trees.forEach((t, i) => {
                ctx.fillText("ðŸŒ²", t.x, t.y);
                t.y += currentSpeed;
                if(t.y > canvas.height) {
                    t.y = -100;
                    t.x = (t.side === 'L') ? Math.random()*(roadX-50) : roadX + roadWidth + Math.random()*50;
                }
            });

            // BOOST OBJESÄ°
            if(boostItem.active) {
                ctx.drawImage(boostImg, boostItem.x, boostItem.y, 50, 50);
                boostItem.y += currentSpeed;
                // Toplama kontrolÃ¼
                if(Math.abs(boostItem.y - (canvas.height-120)) < 40 && Math.abs(boostItem.x - (catX-25)) < 40) {
                    boostActive = true;
                    boostTimer = 360; // 60fps * 6 saniye
                    boostItem.active = false;
                    document.getElementById("boostContainer").style.display = "block";
                }
                if(boostItem.y > canvas.height) {
                    boostItem.y = -2000;
                    boostItem.x = roadX + Math.random()*(roadWidth-50);
                    boostItem.active = true;
                }
            }

            // ENGELLER
            obstacles.forEach(ob => {
                ctx.fillText("ðŸ“¦", ob.x, ob.y);
                ob.y += currentSpeed;
                if(!boostActive && Math.abs(ob.y - (canvas.height-120)) < 40 && Math.abs(ob.x - (catX-25)) < 40) {
                    isPaused = true;
                    document.getElementById("gameMenu").style.display = "flex";
                    document.getElementById("menuTitle").innerText = "EYVAH!";
                    document.getElementById("scoreText").innerText = "Skor: " + Math.floor(score);
                }
                if(ob.y > canvas.height) { ob.y = -200; ob.x = roadX + Math.random()*(roadWidth-50); }
            });

            // KEDÄ°
            ctx.fillText("ðŸˆðŸï¸", catX - 25, canvas.height - 120);
            if (moveLeft && catX > roadX + 30) catX -= 7;
            if (moveRight && catX < roadX + roadWidth - 30) catX += 7;

            score += boostActive ? 0.5 : 0.1;
            gameSpeed += 0.001;
            requestAnimationFrame(draw);
        }

        // Kontroller
        document.getElementById("leftBtn").ontouchstart = (e) => { e.preventDefault(); moveLeft = true; };
        document.getElementById("leftBtn").ontouchend = () => moveLeft = false;
        document.getElementById("rightBtn").ontouchstart = (e) => { e.preventDefault(); moveRight = true; };
        document.getElementById("rightBtn").ontouchend = () => moveRight = false;
    </script>
</body>
</html>
